{
    "ui1.scarf.rl.ac.uk": {
        "scarf": {
            "computer": {
                "computer-configure": {
                    "username": "{{ username }}",
                    "safe_interval": 10,
                    "key_policy": "AutoAddPolicy",
                    "metadata": {
                        "tooltip": "\u003Cp\u003E\n    Setup up the SSH connection.\n\u003C/p\u003E\n",
                        "ssh_auth": "2FA",
                        "template_variables": {
                            "username": {
                                "description": "The username to use for the SSH connection",
                                "type": "text",
                                "key_display": "SSH username"
                            }
                        }
                    }
                },
                "computer-setup": {
                    "label": "{{ label }}",
                    "hostname": "ui1.scarf.rl.ac.uk",
                    "description": "SCARF compute cluster provided by STFC",
                    "transport": "core.ssh",
                    "scheduler": "core.slurm",
                    "work_dir": "{{ work_dir }}",
                    "shebang": "#!/bin/bash",
                    "mpirun_command": "mpirun -n {tot_num_mpiprocs}",
                    "mpiprocs_per_machine": 32,
                    "prepend_text": "#SBATCH --partition={{ slurm_partition }}\n",
                    "append_text": "",
                    "metadata": {
                        "tooltip": "\u003Cp\u003E\n    \u003Ca href=\"https://www.scarf.rl.ac.uk/index.html\" target=\"_blank\"\u003ESCARF\u003C/a\u003E supercomputer at STFC (UKRI).",
                        "template_variables": {
                            "label": {
                                "default": "scarf",
                                "description": "A short name to identify the computer",
                                "type": "text",
                                "key_display": "Computer Label"
                            },
                            "slurm_partition": {
                                "default": "scarf",
                                "description": "The slurm partition to submit jobs to",
                                "type": "list",
                                "options": [
                                    "scarf",
                                    "devel",
                                    "gpu"
                                ],
                                "key_display": "Slurm Partition"
                            },
                            "work_dir": {
                                "default": "/home/{VOL}/{USER}/aiida_run",
                                "description": "The directory on SCARF where job files will be stored.",
                                "type": "text",
                                "key_display": "Work Directory"
                            }
                        }
                    }
                }
            },
            "codes": {
                "ChemShell": {
                    "label": "ChemShell (SCARF)",
                    "description": "ChemShell 25.0.1 (parallel) compiled for SCARF",
                    "filepath_executable": "chemsh.x",
                    "default_calc_job_plugin": "chemshell",
                    "with_mpi": true,
                    "prepend_text": "module load contrib/chemshell/25.0.1-intel",
                    "append_text": "",
                    "metadata": {}
                },
                "QuantumESPRESSO": {
                    "label": "QuantumESPRESSO-{{ code_binary_name }} (SCARF)",
                    "description": "The code {{ code_binary_name }} of Quantum ESPRESSO 7.3.1 compiled for SCARF",
                    "default_calc_job_plugin": "quantumespresso.{{ code_binary_name }}",
                    "filepath_executable": "{{ code_binary_name }}.x",
                    "prepend_text": "module load QuantumESPRESSO/7.3.1-foss-2023a\n",
                    "append_text": "",
                    "metadata": {
                        "template_variables": {
                            "code_binary_name": {
                                "key_display": "Code name",
                                "type": "list",
                                "options": [
                                    "pw",
                                    "pp",
                                    "ph",
                                    "dos",
                                    "projwfc"
                                ]
                            }
                        }
                    }
                }
            }
        },
        "default": "scarf"
    },
    "login.archer2.ac.uk": {
        "archer2": {
            "computer": {
                "computer-configure": {
                    "username": "{{ username }}",
                    "safe_interval": 10,
                    "key_policy": "AutoAddPolicy",
                    "metadata": {
                        "tooltip": "\u003Cp\u003E\n    Setup up the SSH connection.\n\u003C/p\u003E\n",
                        "ssh_auth": "2FA",
                        "template_variables": {
                            "username": {
                                "description": "The username to use for the SSH connection",
                                "type": "text",
                                "key_display": "SSH username"
                            }
                        }
                    }
                },
                "computer-setup": {
                    "label": "{{ label }}",
                    "hostname": "login.archer2.ac.uk",
                    "description": "Archer2 compute cluster provided by UKRI",
                    "transport": "core.ssh",
                    "scheduler": "core.slurm",
                    "work_dir": "{{ work_dir }}",
                    "shebang": "#!/bin/bash",
                    "mpirun_command": "srun --distrubution=block:block --hint=nomultithread",
                    "mpiprocs_per_machine": 32,
                    "prepend_text": "#SBATCH --partition={{ slurm_partition }}\n#SBATCH --qos={{ archer_qos }}\n#SBATCH --account={{ budget_code }}\nexport SRUN_CPUS_PER_TASK=$SLURM_CPUS_PER_TASK",
                    "append_text": "",
                    "metadata": {
                        "tooltip": "\u003Cp\u003E\n    \u003Ca href=\"https://www.scarf.rl.ac.uk/index.html\" target=\"_blank\"\u003ESCARF\u003C/a\u003E supercomputer at STFC (UKRI).",
                        "template_variables": {
                            "label": {
                                "default": "scarf",
                                "description": "A short name to identify the computer",
                                "type": "text",
                                "key_display": "Computer Label"
                            },
                            "slurm_partition": {
                                "default": "standard",
                                "description": "The slurm partition to submit jobs to",
                                "type": "list",
                                "options": [
                                    "standard",
                                    "highmem",
                                    "serial",
                                    "gpu"
                                ],
                                "key_display": "Slurm Partition"
                            },
                            "archer_qos": {
                                "default": "standard",
                                "description": "The slurm quality of service to submit jobs with",
                                "type": "list",
                                "options": [
                                    "standard",
                                    "highmem",
                                    "taskfarm",
                                    "short",
                                    "long",
                                    "largescale",
                                    "lowpriority",
                                    "serial",
                                    "gpu-shd",
                                    "gpu-exc"
                                ],
                                "key_display": "Slurm QoS"
                            },
                            "work_dir": {
                                "default": "/home/vol/user/aiida_run",
                                "description": "The directory on SCARF where job files will be stored.",
                                "type": "text",
                                "key_display": "Work Directory"
                            },
                            "budget_code": {
                                "default": "",
                                "description": "Budget code to use for the job submission",
                                "type": "text",
                                "key_display": "Budget Code"
                            }
                        }
                    }
                }
            },
            "codes": {
                "QuantumESPRESSO": {
                    "label": "{{ code_binary_name }}-{{ version }}",
                    "description": "The code {{ code_binary_name }} of Quantum ESPRESSO compiled for Archer2",
                    "default_calc_job_plugin": "quantumespresso.{{ code_binary_name }}",
                    "filepath_executable": "{{ code_binary_name }}.x",
                    "prepend_text": "module load quantum_espresso/{{ version }}\n",
                    "append_text": "",
                    "metadata": {
                        "template_variables": {
                            "code_binary_name": {
                                "key_display": "Code name",
                                "type": "list",
                                "options": [
                                    "pw",
                                    "pp",
                                    "ph",
                                    "dos",
                                    "projwfc"
                                ]
                            },
                            "version": {
                                "type": "list",
                                "key_display": "QE version",
                                "options": [
                                    "7.1",
                                    "7.3.1",
                                    "7.4.1",
                                    "7.5"
                                ],
                                "default": "7.3.1"
                            }
                        }
                    }
                }
            }
        },
        "default": "archer2"
    }
}